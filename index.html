<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Air Dome - Trophy Display</title>
    <style>
        @font-face {
            font-family: 'Cambria';
            src: local('Cambria'), url('https://fonts.cdnfonts.com/css/cambria') format('truetype');
        }

        body {
            font-family: 'Cambria', serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            background-image: url('images/qimoguan.jpeg');
            background-size: cover;
            background-position: center;
            color: #333;
            position: relative;
        }

        .white-dots {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .white-dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(20px, 15px);
            }
            50% {
                transform: translate(40px, 5px);
            }
            75% {
                transform: translate(20px, 15px);
            }
            100% {
                transform: translate(0, 0);
            }
        }

        .text-outline {
            text-shadow: 
                -1px -1px 0 white,
                1px -1px 0 white,
                -1px 1px 0 white,
                1px 1px 0 white;
        }

        .icon {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .icon:hover {
            transform: scale(1.2);
        }

        .back-arrow {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 60px;
            height: 60px;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .back-arrow svg {
            width: 40px;
            height: 40px;
        }

        .trophy-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: white;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .trophy-icon img {
            width: 80%;
            height: 80%;
            object-fit: contain;
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.5));
        }

        .door-icon {
            position: absolute;
            width: 60px;
            height: 80px;
            z-index: 100;
            left: 15%;
            top: 75%;
            cursor: pointer;
        }

        .display-case {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 300px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="600" height="300" viewBox="0 0 600 300"><rect width="600" height="300" fill="%23A67C52"/><path d="M0,0 L600,0 L580,20 L20,20 Z" fill="%238B4513"/><path d="M0,300 L600,300 L580,280 L20,280 Z" fill="%238B4513"/><path d="M0,0 L20,20 L20,280 L0,300 Z" fill="%2365421A"/><path d="M600,0 L580,20 L580,280 L600,300 Z" fill="%2365421A"/><rect x="20" y="20" width="560" height="260" fill="%23D2B48C"/><rect x="30" y="30" width="540" height="240" fill="%23A67C52"/><rect x="40" y="40" width="520" height="220" fill="%238B4513" opacity="0.2"/></svg>');
            background-size: cover;
            z-index: 200;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .trophy-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 20px;
        }

        .trophy {
            width: 150px;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .trophy img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.7));
            transition: all 0.3s ease;
        }

        .trophy:hover img {
            transform: scale(1.3);
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.9));
        }

        .trophy:hover::after {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            mix-blend-mode: overlay;
            opacity: 0.8;
        }

        .close-case {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background-color: #8B4513;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
        }

        .info-bubble {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            z-index: 300;
            display: none;
        }

        .info-bubble:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 15px 15px 0;
            border-style: solid;
            border-color: white transparent transparent;
        }

        .close-bubble {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 25px;
            height: 25px;
            background-color: #ccc;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
        }

        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #333;
            font-size: 2.5em;
            font-weight: bold;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 10px 30px;
            border-radius: 10px;
        }

        .info-content {
            display: flex;
            align-items: center;
        }

        .info-text {
            flex: 1;
        }

        .info-image {
            width: 200px;
            height: 200px;
            margin-right: 20px;
            background-size: cover;
            background-position: center;
            border-radius: 5px;
            border: 2px solid #ddd;
        }

        /* Video Experience Styles */
        .video-experience {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 400;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .video-message {
            color: white;
            font-size: 3rem;
            text-align: center;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            position: absolute;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .video-player-container {
            width: 90%;
            height: 90%;
            max-width: 1000px;
            max-height: 600px;
            display: none;
            position: relative;
            background-color: black;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .video-player {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background-color: black;
        }

        .video-back {
            position: absolute;
            bottom: 30px;
            left: 30px;
            width: 120px;
            height: 50px;
            background: linear-gradient(135deg, #FFF, #EEE);
            border: none;
            border-radius: 25px;
            font-family: 'Cambria', serif;
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 200;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .video-back:hover {
            background: linear-gradient(135deg, #FFF, #DDD);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .video-back:active {
            transform: translateY(1px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        /* 加载状态 */
        .video-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            color: white;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="white-dots" id="whiteDots"></div>
    
    <div class="title text-outline">Air Dome</div>
    
    <div class="back-arrow icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 12H4M4 12L10 6M4 12L10 18" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    
    <div class="trophy-icon icon">
        <img src="images/奖杯1.jpg" alt="Trophy Icon">
    </div>
    
    <div class="door-icon icon">
        <svg viewBox="0 0 60 80" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="5" y="5" width="50" height="70" rx="3" fill="#8B4513" stroke="#5D2906" stroke-width="2"/>
            <circle cx="45" cy="40" r="3" fill="#5D2906"/>
            <path d="M5 15H55M5 25H55M5 35H55M5 45H55M5 55H55M5 65H55" stroke="#5D2906" stroke-width="1" stroke-linecap="round"/>
        </svg>
    </div>
    
    <div class="display-case" id="displayCase">
        <button class="close-case" id="closeCase">X</button>
        <div class="trophy-container">
            <div class="trophy" id="trophy1">
                <img src="images/奖杯1.jpg" alt="USTC Trophy">
            </div>
            <div class="trophy" id="trophy2">
                <img src="images/奖杯2.jpg" alt="Badminton Trophy">
            </div>
            <div class="trophy" id="trophy3">
                <img src="images/奖杯3.jpg" alt="Volleyball Trophy">
            </div>
        </div>
    </div>
    
    <div class="info-bubble" id="infoBubble">
        <button class="close-bubble" id="closeBubble">X</button>
        <div id="bubbleContent"></div>
    </div>

    <div class="video-experience" id="videoExperience">
        <div class="video-message" id="message1">Are You Ready?</div>
        <div class="video-message" id="message2">Let's Experience the Magic of Badminton!</div>
        <div class="video-message" id="message3">3</div>
        <div class="video-message" id="message4">2</div>
        <div class="video-message" id="message5">1</div>
        
        <div class="video-player-container" id="videoPlayerContainer">
            <!-- 加载动画 -->
            <div class="video-loading" id="videoLoading" style="display: none;">
                <div class="loading-spinner"></div>
                <div>Loading video...</div>
            </div>
            
            <!-- 视频播放器 -->
            <video class="video-player" id="videoPlayer" controls preload="metadata">
                <!-- 使用您的 video.mp4 文件 -->
                <source src="video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            
            <button class="video-back" id="videoBack">BACK</button>
        </div>
    </div>

    <script>
        // Create floating white dots
        const whiteDotsContainer = document.getElementById('whiteDots');
        for (let i = 0; i < 30; i++) {
            const dot = document.createElement('div');
            dot.className = 'white-dot';
            dot.style.left = `${Math.random() * 100}%`;
            dot.style.top = `${Math.random() * 100}%`;
            dot.style.animationDuration = `${10 + Math.random() * 10}s`;
            whiteDotsContainer.appendChild(dot);
        }

        // Back arrow functionality
        document.querySelector('.back-arrow').addEventListener('click', function() {
            window.location.href = 'https://lovermissing.github.io/West/';
        });

        // Trophy icon functionality
        document.querySelector('.trophy-icon').addEventListener('click', function() {
            document.getElementById('displayCase').style.display = 'flex';
        });

        // Close display case
        document.getElementById('closeCase').addEventListener('click', function() {
            document.getElementById('displayCase').style.display = 'none';
        });

        // Trophy click functionality
        document.getElementById('trophy1').addEventListener('click', function() {
            const bubble = document.getElementById('infoBubble');
            bubble.style.backgroundImage = 'url("images/ustc.jpg")';
            bubble.style.backgroundSize = 'cover';
            
            document.getElementById('bubbleContent').innerHTML = `
                <div class="info-content">
                    <div class="info-text">
                        <p>Between 2024 and 2025, our school's athletes achieved outstanding results in various provincial competitions:</p>
                        <p>In the 2024 Anhui Student Sports League, the men's doubles team won the championship, the men's singles player won the runner-up, and the mixed doubles team won the bronze medal.</p>
                        <p>In the 2025 competition, the men's team defended their championship title, the men's singles player won the runner-up again, the women's singles player ranked fourth, and the mixed doubles team ranked fifth.</p>
                        <p>In the same year, at the 13th Anhui Provincial Games, the men's team (ordinary group) won the championship, and the men's singles players won second and third places respectively.</p>
                        <p>These achievements fully demonstrate the dual breakthroughs in team cooperation and individual competitive strength.</p>
                    </div>
                </div>
            `;
            document.getElementById('infoBubble').style.display = 'block';
        });

        document.getElementById('trophy2').addEventListener('click', function() {
            const bubble = document.getElementById('infoBubble');
            bubble.style.backgroundImage = 'none';
            
            document.getElementById('bubbleContent').innerHTML = `
                <div class="info-content">
                    <div class="info-image" style="background-image: url('images/zg.jpg')"></div>
                    <div class="info-text">
                        <p>Since the 1980s, China has redefined global badminton standards, securing an unprecedented 11 Thomas Cups, 16 Uber Cups, and 7 Sudirman Cups – a testament to their unmatched team supremacy. The Olympic stage witnessed legendary achievements like Lin Dan's double Grand Slam (2008/2012) and Zhang Ning's back-to-back golds (2004/2008), while modern stars such as Liang Weikang/Wang Chang (men's doubles) and Chen Yufei (women's singles) continue this legacy.</p>
                        <p>The 2025 season marked new heights: a World Championship sweep with 3 golds, and the China Open's 9 titles in four years. Beyond medals, China's badminton boom is evident in its 10-fold market growth (now $4.5B) and grassroots popularity, with 400 million players nationwide. From Lin Dan's era to today's "Twin Wang" phenomenon, China's blend of technical mastery and systematic development ensures its enduring throne in the sport.</p>
                    </div>
                </div>
            `;
            document.getElementById('infoBubble').style.display = 'block';
        });

        document.getElementById('trophy3').addEventListener('click', function() {
            const bubble = document.getElementById('infoBubble');
            bubble.style.backgroundImage = 'none';
            
            document.getElementById('bubbleContent').innerHTML = `
                <div class="info-content">
                    <div class="info-image" style="background-image: url('images/zg1.jpeg')"></div>
                    <div class="info-text">
                        <p>The Chinese women's volleyball team is one of the most dominant teams in international volleyball, having won a total of ten World Cup, World Championship and Olympic championships (1981-2019), including two Olympic three consecutive championships (1984, 2004, 2016). They are famous for their "fast and changeable" tactics, creating techniques such as back flying and cap blocking, and promoting the modification of international rules. Classic battles such as the 2016 Rio Olympics reversal of Brazil and the 2024 World League's two-set comeback victory over Turkey showed the "women's volleyball spirit" of never giving up. The achievements of the Chinese women's volleyball team are not only medals, but also a global benchmark for technological innovation and team resilience.</p>
                    </div>
                </div>
            `;
            document.getElementById('infoBubble').style.display = 'block';
        });

        // Close info bubble
        document.getElementById('closeBubble').addEventListener('click', function() {
            document.getElementById('infoBubble').style.display = 'none';
        });

        // Video Experience Functions
        const videoExperience = document.getElementById('videoExperience');
        const msg1 = document.getElementById('message1');
        const msg2 = document.getElementById('message2');
        const msg3 = document.getElementById('message3');
        const msg4 = document.getElementById('message4');
        const msg5 = document.getElementById('message5');
        const videoPlayerContainer = document.getElementById('videoPlayerContainer');
        const videoPlayer = document.getElementById('videoPlayer');
        const videoLoading = document.getElementById('videoLoading');
        const videoBack = document.getElementById('videoBack');

        // 显示加载动画
        function showLoading() {
            videoLoading.style.display = 'flex';
        }

        // 隐藏加载动画
        function hideLoading() {
            videoLoading.style.display = 'none';
        }

        // 检查视频是否可访问
        async function checkVideoAvailability() {
            return new Promise((resolve) => {
                const xhr = new XMLHttpRequest();
                xhr.open('HEAD', 'video.mp4');
                xhr.onload = function() {
                    resolve(xhr.status === 200);
                };
                xhr.onerror = function() {
                    resolve(false);
                };
                xhr.timeout = 10000;
                xhr.ontimeout = function() {
                    resolve(false);
                };
                xhr.send();
            });
        }

        // 显示错误信息
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.style.position = 'absolute';
            errorDiv.style.top = '0';
            errorDiv.style.left = '0';
            errorDiv.style.width = '100%';
            errorDiv.style.height = '100%';
            errorDiv.style.backgroundColor = 'rgba(0,0,0,0.9)';
            errorDiv.style.color = 'white';
            errorDiv.style.display = 'flex';
            errorDiv.style.flexDirection = 'column';
            errorDiv.style.justifyContent = 'center';
            errorDiv.style.alignItems = 'center';
            errorDiv.style.padding = '20px';
            errorDiv.style.textAlign = 'center';
            errorDiv.style.zIndex = '100';
            
            errorDiv.innerHTML = `
                <h3>❌ Video Error</h3>
                <p>${message}</p>
                <div style="margin-top: 20px;">
                    <button onclick="location.reload()" 
                            style="padding: 10px 20px; margin: 5px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Refresh Page
                    </button>
                </div>
            `;
            
            videoPlayerContainer.appendChild(errorDiv);
        }

        // 显示播放按钮
        function showPlayButton() {
            const overlay = document.createElement('div');
            overlay.style.position = 'absolute';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.backgroundColor = 'rgba(0,0,0,0.7)';
            overlay.style.display = 'flex';
            overlay.style.flexDirection = 'column';
            overlay.style.justifyContent = 'center';
            overlay.style.alignItems = 'center';
            overlay.style.zIndex = '150';
            
            const playButton = document.createElement('button');
            playButton.innerHTML = '▶';
            playButton.style.fontSize = '4rem';
            playButton.style.width = '100px';
            playButton.style.height = '100px';
            playButton.style.borderRadius = '50%';
            playButton.style.border = 'none';
            playButton.style.background = 'rgba(255,255,255,0.9)';
            playButton.style.cursor = 'pointer';
            playButton.style.color = '#333';
            
            const message = document.createElement('p');
            message.textContent = 'Click to play';
            message.style.color = 'white';
            message.style.marginTop = '20px';
            message.style.fontSize = '1.2rem';
            
            playButton.addEventListener('click', function() {
                videoPlayer.play();
                overlay.remove();
            });
            
            overlay.appendChild(playButton);
            overlay.appendChild(message);
            videoPlayerContainer.appendChild(overlay);
        }

        // 修改启动视频体验的函数
        async function startVideoExperience() {
            // 显示视频体验界面
            videoExperience.style.display = 'flex';
            
            // 倒计时消息序列
            const messages = [msg1, msg2, msg3, msg4, msg5];
            
            for (let i = 0; i < messages.length; i++) {
                messages[i].style.opacity = 1;
                await new Promise(resolve => setTimeout(resolve, 1000));
                messages[i].style.opacity = 0;
            }
            
            // 显示视频播放器容器
            videoPlayerContainer.style.display = 'block';
            showLoading();
            
            // 检查视频是否可访问
            const isVideoAvailable = await checkVideoAvailability();
            
            if (!isVideoAvailable) {
                hideLoading();
                showError('Video file not found. Please check if video.mp4 exists in the repository.');
                return;
            }
            
            // 预加载视频
            videoPlayer.load();
            
            // 设置事件监听器
            videoPlayer.addEventListener('loadeddata', function() {
                hideLoading();
                console.log('Video loaded successfully');
                
                // 尝试自动播放
                videoPlayer.play().then(() => {
                    console.log('Video autoplay started');
                }).catch(error => {
                    console.log('Autoplay prevented, showing play button');
                    showPlayButton();
                });
            });
            
            videoPlayer.addEventListener('error', function() {
                hideLoading();
                showError(`Video playback error: ${videoPlayer.error?.message || 'Unknown error'}`);
            });
            
            // 设置超时
            setTimeout(() => {
                if (videoPlayer.readyState < 2) { // 如果还没开始加载
                    hideLoading();
                    showError('Video loading timeout. The file might be too large or network is slow.');
                }
            }, 30000); // 30秒超时
        }

        // Door icon functionality
        document.querySelector('.door-icon').addEventListener('click', function() {
            startVideoExperience();
        });
        
        // Back button functionality
        videoBack.addEventListener('click', function() {
            videoPlayer.pause();
            videoPlayer.currentTime = 0;
            videoPlayerContainer.style.display = 'none';
            videoExperience.style.display = 'none';
        });
        
        // 添加点击视频暂停/播放功能
        videoPlayer.addEventListener('click', function() {
            if (videoPlayer.paused) {
                videoPlayer.play();
            } else {
                videoPlayer.pause();
            }
        });
    </script>
</body>
</html>
